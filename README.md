# Mentorship API

Это API приложение для организации наставничества, разработанное с использованием Django, Django REST Framework (DRF) и Poetry для управления зависимостями. Приложение поддерживает функционал регистрации, аутентификации, управление пользователями и интегрировано с Celery для выполнения фоновых задач, таких как отправка email-уведомлений. Проект упакован в Docker для легкости развертывания и изоляции сервисов.

## Функционал

API предоставляет следующие конечные точки:

- `POST /api/registration/` — регистрация нового пользователя.
- `POST /api/login/` — аутентификация пользователя и получение JWT токенов.
- `GET /api/users/` — список всех пользователей (доступен для авторизованных пользователей).
- `GET, PUT /api/users/<id>/` — информация о пользователе по ID и возможность обновления информации (только для самого пользователя).
- `POST /api/logout/` — выход из системы (аннулирование токенов).

### Технологии и зависимости

- **Django** — основной веб-фреймворк.
- **Django REST Framework** — для создания RESTful API.
- **Poetry** — для управления зависимостями.
- **Celery** — для выполнения фоновых задач.
- **Redis** — брокер сообщений для Celery.
- **PostgreSQL** — основная база данных.
- **Docker и Docker Compose** — для контейнеризации приложения.

## Установка и запуск приложения

Для запуска приложения в Docker выполните следующие шаги:

1. **Клонируйте репозиторий**:

    ```bash
    git clone https://github.com/your-username/mentorship-api.git
    cd mentorship-api
    ```

2. **Создайте `.env` файл**:

    В корне проекта создайте файл `.env` и добавьте в него настройки:

    ```env
    DEBUG=1
    SECRET_KEY=your-secret-key
    DATABASE_URL=postgres://user:password@db:5432/mentorship
    ```

3. **Соберите и запустите контейнеры**:

    Используйте команду `docker-compose` для сборки и запуска контейнеров:

    ```bash
    docker-compose up --build
    ```

    Docker Compose поднимет следующие контейнеры:

    - **web** — контейнер с Django-приложением, доступный на порту 8000.
    - **db** — контейнер с PostgreSQL.
    - **redis** — контейнер с Redis.
    - **celery** — воркер для выполнения задач Celery.
    - **celery_beat** — Celery Beat для планирования периодических задач.

4. **Примените миграции и создайте суперпользователя**:

    Откройте новый терминал и выполните команды:

    ```bash
    docker-compose run web python manage.py migrate
    docker-compose run web python manage.py createsuperuser
    ```

5. **Откройте приложение**:

    Приложение будет доступно по адресу `http://localhost:8000`.

## Тестирование

Тесты покрывают основные функциональные возможности приложения, такие как регистрация, аутентификация и доступ к данным пользователей. Для запуска тестов выполните следующую команду:

```bash
docker-compose run web pytest users/tests.py
